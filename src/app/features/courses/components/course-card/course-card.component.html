<div class="course-card" (click)="navigateToCourse($event)">
  <div class="course-image-container">
    <img
      [src]="course().imageUrl"
      [alt]="course().title"
      class="course-image"
    />
    <div class="course-badges">
      <app-platform-badge [platform]="course().platform"></app-platform-badge>
      <app-difficulty-badge
        [level]="getLevelBadgeClass(course().level)"
      ></app-difficulty-badge>
    </div>
  </div>

  <div class="course-content">
    <h3 class="course-title">{{ course().title }}</h3>

    <div class="course-meta">
      <div class="meta-item">
        <mat-icon>schedule</mat-icon>
        <span>{{ formatDuration(course().contentDuration) }}</span>
      </div>
      <div class="meta-item">
        <mat-icon>people</mat-icon>
        <span>{{ formatNumber(course().numSubscribers) }}</span>
      </div>
      <div class="meta-item">
        <mat-icon>star</mat-icon>
        <span>{{ formatNumber(course().numReviews) }}</span>
      </div>
    </div>

    @if (course().technologies && course().technologies.length > 0) {
    <div class="course-tech-stack">
      @for (tech of course().technologies.slice(0, 3); track tech) {
      <span class="tech-tag">{{ tech }}</span>
      } @if (course().technologies.length > 3) {
      <span class="tech-tag more">+{{ course().technologies.length - 3 }}</span>
      }
    </div>
    }

    <div class="course-footer">
      <span class="course-price">
        {{ formatPrice(course().price, course().isPaid) }}
      </span>

      <button
        mat-raised-button
        color="primary"
        class="goto-button"
        (click)="navigateToExternalCourse($event)"
      >
        <mat-icon>launch</mat-icon>
        View Course
      </button>
    </div>
  </div>
</div>
